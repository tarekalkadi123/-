<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>اربح مليون يورو مع طارق</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: white;
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow-x: hidden;
        }
        
        .game-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        }
        
        .host-section {
            display: flex;
            align-items: center;
            background: linear-gradient(90deg, #1e3c72, #2a5298);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            border: 5px solid gold;
            animation: pulse 2s infinite;
        }
        
        .host-img {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin-left: 30px;
            border: 4px solid white;
            object-fit: cover;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .host-talk {
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            flex-grow: 1;
            font-size: 22px;
            border-left: 5px solid gold;
        }
        
        .game-area {
            display: flex;
            gap: 30px;
            margin-top: 20px;
        }
        
        .prize-ladder {
            width: 280px;
            background: linear-gradient(180deg, #000428, #004e92);
            border-radius: 15px;
            padding: 15px;
            border: 3px solid silver;
        }
        
        .prize-step {
            padding: 12px;
            margin: 8px 0;
            border-radius: 8px;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.3);
            font-size: 18px;
            transition: all 0.3s;
        }
        
        .prize-step.active {
            background: linear-gradient(90deg, #f7971e, #ffd200);
            color: black;
            font-weight: bold;
            transform: scale(1.05);
            box-shadow: 0 0 15px gold;
        }
        
        .question-area {
            flex-grow: 1;
            background: linear-gradient(180deg, #000428, #004e92);
            border-radius: 15px;
            padding: 25px;
            border: 3px solid gold;
        }
        
        .question-count {
            font-size: 20px;
            margin-bottom: 15px;
            color: #ffd700;
            text-align: center;
        }
        
        .question {
            font-size: 28px;
            margin-bottom: 40px;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 10px;
            text-align: center;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px solid silver;
            line-height: 1.5;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .option {
            padding: 18px;
            background: linear-gradient(135deg, #1e3c72, #2a5298);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .option:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
            background: linear-gradient(135deg, #3a7bd5, #00d2ff);
        }
        
        .lifelines {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
        }
        
        .lifeline {
            padding: 12px 25px;
            background: linear-gradient(135deg, #e44d26, #f16529);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .lifeline:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px #e44d26;
        }
        
        .lifeline:disabled {
            background: #666;
            cursor: not-allowed;
            opacity: 0.6;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            max-width: 500px;
            text-align: center;
            border: 5px solid gold;
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.7);
        }
        
        .modal-content h2 {
            color: white;
            font-size: 28px;
            margin-bottom: 20px;
        }
        
        .modal-content p {
            font-size: 22px;
            margin-bottom: 30px;
            line-height: 1.6;
        }
        
        .modal-content button {
            padding: 12px 30px;
            background: linear-gradient(135deg, #f46b45, #eea849);
            border: none;
            border-radius: 8px;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .modal-content button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px #f46b45;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 10px gold; }
            50% { box-shadow: 0 0 30px gold; }
            100% { box-shadow: 0 0 10px gold; }
        }
        
        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
            }
            
            .prize-ladder {
                width: auto;
                order: 2;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .host-section {
                flex-direction: column;
                text-align: center;
            }
            
            .host-img {
                margin-left: 0;
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <audio id="correct-sound" src="https://www.soundjay.com/buttons/sounds/button-09.mp3"></audio>
    <audio id="wrong-sound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3"></audio>
    <audio id="lifeline-sound" src="https://www.soundjay.com/buttons/sounds/button-21.mp3"></audio>
    <audio id="applause-sound" src="https://www.soundjay.com/human/sounds/applause-8.mp3"></audio>
    <audio id="thinking-sound" src="https://www.soundjay.com/mechanical/sounds/clock-ticking-1.mp3" loop></audio>
    
    <div class="game-container">
        <div class="host-section">
            <img src="USA.jpg" alt="طارق" class="host-img">
            <div class="host-talk" id="host-message">مرحباً بك في برنامج "اربح مليون يورو مع طارق"! هل أنت مستعد للتحدي؟</div>
        </div>
        
        <div class="game-area">
            <div class="prize-ladder">
                <div class="prize-step" id="prize-15">1 - 100 €</div>
                <div class="prize-step" id="prize-14">2- 200 €</div>
                <div class="prize-step" id="prize-13">3 - 300 €</div>
                <div class="prize-step" id="prize-12">4-  500 €</div>
                <div class="prize-step" id="prize-11">5 - 1,000 €</div>
                <div class="prize-step" id="prize-10">6 - 2,000 €</div>
                <div class="prize-step" id="prize-9">7 - 4,000 €</div>
                <div class="prize-step" id="prize-8">8 - 8,000 €</div>
                <div class="prize-step" id="prize-7">9- 4,000 €</div>
                <div class="prize-step" id="prize-6">10 - 16,000 €</div>
                <div class="prize-step" id="prize-5">11 - 24,000 €</div>
                <div class="prize-step" id="prize-4">12 - 32,000 €</div>
                <div class="prize-step" id="prize-3">13 - 64,000 €</div>
                <div class="prize-step" id="prize-2">14 - 500,000 €</div>
                <div class="prize-step active" id="prize-1">15 - 1000,000 €</div>
            </div>
            
            <div class="question-area">
                <div class="question-count">السؤال رقم <span id="current-q">1</span> من 15</div>
                <div class="question" id="question-text"></div>
                <div class="options" id="options-container"></div>
                
                <div class="lifelines">
                    <button class="lifeline" id="fifty-fifty" onclick="useFiftyFifty()">50-50</button>
                    <button class="lifeline" id="ask-host" onclick="useAskHost()">استشارة طارق</button>
                    <button class="lifeline" id="audience-help" onclick="useAudience()">مساعدة الجمهور</button>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="result-modal">
        <div class="modal-content">
            <h2 id="result-title">نتيجة السؤال</h2>
            <p id="result-message"></p>
            <button onclick="nextQuestion()">المتابعة</button>
        </div>
    </div>
    
    <div class="modal" id="lifeline-modal">
        <div class="modal-content">
            <h2 id="lifeline-title">استشارة طارق</h2>
            <p id="lifeline-message"></p>
            <button onclick="closeLifelineModal()">حسناً</button>
        </div>
    </div>
    
    <div class="modal" id="audience-modal">
        <div class="modal-content">
            <h2>مساعدة الجمهور</h2>
            <div id="audience-results" style="margin: 20px 0;">
                <!-- سيتم ملؤها ديناميكياً -->
            </div>
            <button onclick="closeAudienceModal()">حسناً</button>
        </div>
    </div>
    
    <div class="modal" id="gameover-modal">
        <div class="modal-content">
            <h2>انتهت اللعبة</h2>
            <p id="final-prize"></p>
            <button onclick="resetGame()">اللعب مرة أخرى</button>
        </div>
    </div>
    
    <script>
        // حالة اللعبة
        const gameState = {
            currentQuestion: 0,
            usedLifelines: {
                fiftyFifty: false,
                askHost: false,
                audienceHelp: false
            },
            prizes: [
                100, 200, 300, 500, 1000, 2000, 4000, 8000, 16000, 
                32000, 64000, 125000, 250000, 500000, 1000000
            ],
            guaranteedPrizes: [1000, 32000],
            questions: [
                // المستوى 1 (100 يورو)
                {
                    question: "ما هي عاصمة فرنسا؟",
                    options: ["لندن", "برلين", "باريس", "مدريد"],
                    correctAnswer: 2,
                    hostAdvice: "هذه المدينة تشتهر ببرجها الحديدي الشهير!"
                },
                {
                    question: "كم عدد أيام السنة الكبيسة؟",
                    options: ["364", "365", "366", "367"],
                    correctAnswer: 2,
                    hostAdvice: "تحدث السنة الكبيسة كل 4 سنوات"
                },
                
                // المستوى 2 (200 يورو)
                {
                    question: "ما هي العملة الرسمية في اليابان؟",
                    options: ["الدولار", "اليورو", "الين", "الجنيه"],
                    correctAnswer: 2,
                    hostAdvice: "تبدأ بحرف الياء"
                },
                {
                    question: "في أي قارة تقع البرازيل؟",
                    options: ["أوروبا", "أفريقيا", "آسيا", "أمريكا الجنوبية"],
                    correctAnswer: 3,
                    hostAdvice: "هذه القارة تشتهر بغاباتها المطرية"
                },
                
                // المستوى 3 (300 يورو)
                {
                    question: "ما هو أطول نهر في العالم؟",
                    options: ["النيل", "الأمازون", "الميسيسيبي", "الدانوب"],
                    correctAnswer: 0,
                    hostAdvice: "يوجد في القارة الأفريقية"
                },
                {
                    question: "من رسم لوحة الموناليزا؟",
                    options: ["بيكاسو", "فان جوخ", "ليوناردو دافنشي", "مونيه"],
                    correctAnswer: 2,
                    hostAdvice: "كان فناناً إيطالياً عصر النهضة"
                },
                
                // المستوى 4 (500 يورو)
                {
                    question: "ما هو العنصر الكيميائي الذي رمزه 'O'؟",
                    options: ["الذهب", "الأكسجين", "الفضة", "الكربون"],
                    correctAnswer: 1,
                    hostAdvice: "ضروري للتنفس"
                },
                {
                    question: "في أي عام انتهت الحرب العالمية الثانية؟",
                    options: ["1943", "1944", "1945", "1946"],
                    correctAnswer: 2,
                    hostAdvice: "بعد اكتشاف القنبلة الذرية"
                },
                
                // المستوى 5 (1,000 يورو)
                {
                    question: "ما هو أصغر كوكب في المجموعة الشمسية؟",
                    options: ["الزهرة", "المريخ", "عطارد", "بلوتو"],
                    correctAnswer: 2,
                    hostAdvice: "أقرب كوكب إلى الشمس"
                },
                {
                    question: "من هو مؤلف رواية 'البؤساء'؟",
                    options: ["تولستوي", "فيكتور هوغو", "ديستويفسكي", "شكسبير"],
                    correctAnswer: 1,
                    hostAdvice: "كاتب فرنسي شهير"
                },
                
                // المستوى 6 (2,000 يورو)
                {
                    question: "ما هي اللغة الرسمية في النمسا؟",
                    options: ["الإنجليزية", "الفرنسية", "الألمانية", "الإيطالية"],
                    correctAnswer: 2,
                    hostAdvice: "يتحدث بها أيضاً في ألمانيا وسويسرا"
                },
                {
                    question: "كم عدد أحرف اللغة الإنجليزية؟",
                    options: ["24", "25", "26", "27"],
                    correctAnswer: 2,
                    hostAdvice: "من A إلى Z"
                },
                
                // المستوى 7 (4,000 يورو)
                {
                    question: "ما هو أعمق محيط في العالم؟",
                    options: ["المحيط الأطلسي", "المحيط الهندي", "المحيط الهادئ", "المحيط المتجمد الشمالي"],
                    correctAnswer: 2,
                    hostAdvice: "يحتوي على خندق ماريانا"
                },
                {
                    question: "من اكتشف أمريكا؟",
                    options: ["كريستوفر كولومبوس", "فاسكو دي غاما", "ماجلان", "جيمس كوك"],
                    correctAnswer: 0,
                    hostAdvice: "في عام 1492"
                },
                
                // المستوى 8 (8,000 يورو)
                {
                    question: "ما هو أسرع حيوان بري؟",
                    options: ["الفهد", "الأسد", "الغزال", "النمر"],
                    correctAnswer: 0,
                    hostAdvice: "يمكن أن تصل سرعته إلى 100 كم/ساعة"
                },
                {
                    question: "في أي دولة تقع سور الصين العظيم؟",
                    options: ["اليابان", "الصين", "كوريا الجنوبية", "الهند"],
                    correctAnswer: 1,
                    hostAdvice: "أطول بناء في التاريخ"
                },
                
                // المستوى 9 (16,000 يورو)
                {
                    question: "ما هو المعدن السائل في درجة حرارة الغرفة؟",
                    options: ["الذهب", "الفضة", "الزئبق", "النحاس"],
                    correctAnswer: 2,
                    hostAdvice: "يستخدم في موازين الحرارة"
                },
                {
                    question: "من هو أول إنسان صعد إلى الفضاء؟",
                    options: ["نيل أرمسترونج", "يوري جاجارين", "باز ألدرين", "جون غلين"],
                    correctAnswer: 1,
                    hostAdvice: "رائد فضاء سوفييتي"
                },
                
                // المستوى 10 (32,000 يورو)
                {
                    question: "ما هي أكبر جزيرة في العالم؟",
                    options: ["بورنيو", "مدغشقر", "غرينلاند", "بريطانيا العظمى"],
                    correctAnswer: 2,
                    hostAdvice: "تقع في المنطقة القطبية الشمالية"
                },
                {
                    question: "من هو مؤلف نظرية النسبية؟",
                    options: ["إسحاق نيوتن", "ألبرت أينشتاين", "ستيفن هوكينج", "غاليليو غاليلي"],
                    correctAnswer: 1,
                    hostAdvice: "عالم فيزياء شهير من أصل ألماني"
                },
                
                // المستوى 11 (64,000 يورو)
                {
                    question: "ما هو أطول جسر في العالم؟",
                    options: ["جسر هونغ كونغ-تشوهاي-ماكاو", "جسر دانيانغ-كونشان الكبير", "جسر أكاشي كايكيو", "جسر خليج هانغتشو"],
                    correctAnswer: 1,
                    hostAdvice: "يقع في الصين ويبلغ طوله 164 كم"
                },
                {
                    question: "في أي عام تأسست الأمم المتحدة؟",
                    options: ["1942", "1945", "1948", "1950"],
                    correctAnswer: 1,
                    hostAdvice: "بعد نهاية الحرب العالمية الثانية"
                },
                
                // المستوى 12 (125,000 يورو)
                {
                    question: "ما هي أصغر دولة في العالم من حيث المساحة؟",
                    options: ["موناكو", "ناورو", "الفاتيكان", "سان مارينو"],
                    correctAnswer: 2,
                    hostAdvice: "مقر البابا في روما"
                },
                {
                    question: "من هو الشاعر الذي لقب بـ'شاعر النيل'؟",
                    options: ["أحمد شوقي", "حافظ إبراهيم", "نزار قباني", "محمود درويش"],
                    correctAnswer: 1,
                    hostAdvice: "من رواد الشعر العربي الحديث"
                },
                
                // المستوى 13 (250,000 يورو)
                {
                    question: "ما هو أندر فصيلة دم في العالم؟",
                    options: ["O-", "AB+", "B-", "AB-"],
                    correctAnswer: 3,
                    hostAdvice: "توجد لدى أقل من 1% من سكان العالم"
                },
                {
                    question: "من هو مؤلف كتاب 'الأمير'؟",
                    options: ["ميكيافيلي", "أفلاطون", "أرسطو", "جان جاك روسو"],
                    correctAnswer: 0,
                    hostAdvice: "فيلسوف وسياسي إيطالي"
                },
                
                // المستوى 14 (500,000 يورو)
                {
                    question: "ما هو العنصر الذي عدده الذري 79؟",
                    options: ["الفضة", "البلاتين", "الذهب", "الزئبق"],
                    correctAnswer: 2,
                    hostAdvice: "يستخدم في صناعة المجوهرات"
                },
                {
                    question: "في أي عام اخترع الهاتف؟",
                    options: ["1865", "1876", "1889", "1892"],
                    correctAnswer: 1,
                    hostAdvice: "على يد ألكسندر جراهام بيل"
                },
                
                // المستوى 15 (1,000,000 يورو)
                {
                    question: "ما هو أطول نفق في العالم؟",
                    options: ["نفق غوتهارد", "نفق القناة", "نفق سيكان", "نفق ليردال"],
                    correctAnswer: 0,
                    hostAdvice: "في سويسرا ويبلغ طوله 57 كم"
                },
                {
                    question: "من هو العالم الذي اكتشف البنسلين؟",
                    options: ["لويس باستور", "ألكسندر فلمنج", "روبرت كوخ", "جوناس سولك"],
                    correctAnswer: 1,
                    hostAdvice: "عالم اسكتلندي حصل على جائزة نوبل"
                }
            ]
        };

        // عناصر DOM
        const elements = {
            questionText: document.getElementById('question-text'),
            optionsContainer: document.getElementById('options-container'),
            currentQ: document.getElementById('current-q'),
            hostMessage: document.getElementById('host-message'),
            prizeSteps: Array.from(document.querySelectorAll('.prize-step')),
            lifelines: {
                fiftyFifty: document.getElementById('fifty-fifty'),
                askHost: document.getElementById('ask-host'),
                audienceHelp: document.getElementById('audience-help')
            },
            modals: {
                result: document.getElementById('result-modal'),
                lifeline: document.getElementById('lifeline-modal'),
                audience: document.getElementById('audience-modal'),
                gameover: document.getElementById('gameover-modal')
            },
            modalElements: {
                resultTitle: document.getElementById('result-title'),
                resultMessage: document.getElementById('result-message'),
                lifelineTitle: document.getElementById('lifeline-title'),
                lifelineMessage: document.getElementById('lifeline-message'),
                audienceResults: document.getElementById('audience-results'),
                finalPrize: document.getElementById('final-prize')
            },
            sounds: {
                correct: document.getElementById('correct-sound'),
                wrong: document.getElementById('wrong-sound'),
                lifeline: document.getElementById('lifeline-sound'),
                applause: document.getElementById('applause-sound'),
                thinking: document.getElementById('thinking-sound')
            }
        };

        // تهيئة اللعبة
        function initGame() {
            gameState.currentQuestion = 0;
            gameState.usedLifelines = {
                fiftyFifty: false,
                askHost: false,
                audienceHelp: false
            };
            
            // إعادة تمكين كل مساعدات اللعبة
            elements.lifelines.fiftyFifty.disabled = false;
            elements.lifelines.askHost.disabled = false;
            elements.lifelines.audienceHelp.disabled = false;
            
            // إعادة تعيين سلم الجوائز
            elements.prizeSteps.forEach(step => step.classList.remove('active'));
            elements.prizeSteps[0].classList.add('active');
            
            loadQuestion();
        }

        // تحميل السؤال الحالي
        function loadQuestion() {
            const currentQ = gameState.questions[gameState.currentQuestion];
            
            elements.questionText.textContent = currentQ.question;
            elements.currentQ.textContent = gameState.currentQuestion + 1;
            
            // تحديث خيارات الإجابة
            elements.optionsContainer.innerHTML = '';
            currentQ.options.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'option';
                button.textContent = option;
                button.onclick = () => checkAnswer(index);
                elements.optionsContainer.appendChild(button);
            });
            
            // تحديث رسالة المضيف
            elements.hostMessage.textContent = getRandomHostMessage();
        }

        // التحقق من الإجابة
        function checkAnswer(selectedIndex) {
            const currentQ = gameState.questions[gameState.currentQuestion];
            const isCorrect = selectedIndex === currentQ.correctAnswer;
            
            if (isCorrect) {
                elements.sounds.correct.play();
                elements.modalElements.resultTitle.textContent = 'إجابة صحيحة!';
                elements.modalElements.resultMessage.textContent = `تهانينا! لقد ربحت ${gameState.prizes[gameState.currentQuestion]} يورو`;
                
                // تحديث سلم الجوائز
                elements.prizeSteps[gameState.currentQuestion].classList.remove('active');
                if (gameState.currentQuestion < 14) {
                    elements.prizeSteps[gameState.currentQuestion + 1].classList.add('active');
                }
                
                // إذا وصل إلى جائزة مضمونة
                if (gameState.guaranteedPrizes.includes(gameState.prizes[gameState.currentQuestion])) {
                    elements.modalElements.resultMessage.textContent += ' 🎉 (جائزة مضمونة)';
                }
                
                // إذا فاز بالمليون
                if (gameState.currentQuestion === 14) {
                    elements.sounds.applause.play();
                    elements.modalElements.resultMessage.textContent = 'مبروك! لقد فزت بجائزة المليون يورو! 🎉🏆';
                    setTimeout(() => {
                        showGameOver(true);
                    }, 3000);
                }
            } else {
                elements.sounds.wrong.play();
                elements.modalElements.resultTitle.textContent = 'إجابة خاطئة!';
                
                // العثور على آخر جائزة مضمونة
                let guaranteedPrize = 0;
                for (let i = 0; i < gameState.guaranteedPrizes.length; i++) {
                    if (gameState.currentQuestion >= gameState.questions.findIndex(q => q.prize === gameState.guaranteedPrizes[i])) {
                        guaranteedPrize = gameState.guaranteedPrizes[i];
                    }
                }
                
                elements.modalElements.resultMessage.textContent = `للأسف الإجابة الصحيحة هي: "${currentQ.options[currentQ.correctAnswer]}". 
        لقد خسرت`;
                
                setTimeout(() => {
                    showGameOver(false);
                }, 3000);
            }
            
            elements.modals.result.style.display = 'flex';
        }

        // التقدم إلى السؤال التالي
        function nextQuestion() {
            elements.modals.result.style.display = 'none';
            
            if (gameState.currentQuestion < 14) {
                gameState.currentQuestion++;
                loadQuestion();
            } else {
                showGameOver(true);
            }
        }

        // استخدام مساعدة 50-50
        function useFiftyFifty() {
            elements.sounds.lifeline.play();
            gameState.usedLifelines.fiftyFifty = true;
            elements.lifelines.fiftyFifty.disabled = true;
            
            const currentQ = gameState.questions[gameState.currentQuestion];
            const options = elements.optionsContainer.children;
            let incorrectRemoved = 0;
            
            // إخفاء إجابتين خاطئتين عشوائياً
            while (incorrectRemoved < 2) {
                const randomIndex = Math.floor(Math.random() * 4);
                if (randomIndex !== currentQ.correctAnswer && options[randomIndex].style.display !== 'none') {
                    options[randomIndex].style.display = 'none';
                    incorrectRemoved++;
                }
            }
            
            elements.hostMessage.textContent = 'لقد استخدمت مساعدة 50-50، تم حذف إجابتين خاطئتين!';
        }

        // استخدام استشارة طارق
        function useAskHost() {
            elements.sounds.lifeline.play();
            gameState.usedLifelines.askHost = true;
            elements.lifelines.askHost.disabled = true;
            
            const currentQ = gameState.questions[gameState.currentQuestion];
            
            elements.modalElements.lifelineTitle.textContent = 'استشارة طارق';
            elements.modalElements.lifelineMessage.textContent = currentQ.hostAdvice;
            elements.modals.lifeline.style.display = 'flex';
            
            elements.hostMessage.textContent = 'لقد استخدمت استشارة طارق، انظر إلى النصيحة أعلاه!';
        }

        // استخدام مساعدة الجمهور
        function useAudience() {
            elements.sounds.lifeline.play();
            gameState.usedLifelines.audienceHelp = true;
            elements.lifelines.audienceHelp.disabled = true;
            
            const currentQ = gameState.questions[gameState.currentQuestion];
            const optionsCount = currentQ.options.length;
            let percentages = [];
            
            // إنشاء نسب عشوائية تميل نحو الإجابة الصحيحة
            let remainingPercent = 100;
            for (let i = 0; i < optionsCount; i++) {
                if (i === currentQ.correctAnswer) {
                    // الإجابة الصحيحة تحصل على نسبة أعلى (بين 40-70%)
                    const correctPercent = Math.floor(Math.random() * 31) + 40;
                    percentages.push(correctPercent);
                    remainingPercent -= correctPercent;
                } else {
                    if (i === optionsCount - 1) {
                        percentages.push(remainingPercent);
                    } else {
                        const wrongPercent = Math.floor(Math.random() * remainingPercent / 2);
                        percentages.push(wrongPercent);
                        remainingPercent -= wrongPercent;
                    }
                }
            }
            
            // عرض النتائج
            elements.modalElements.audienceResults.innerHTML = '';
            currentQ.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.style.margin = '10px 0';
                
                const optionText = document.createElement('span');
                optionText.textContent = option + ': ';
                optionText.style.fontWeight = 'bold';
                
                const percentBar = document.createElement('div');
                percentBar.style.height = '20px';
                percentBar.style.backgroundColor = index === currentQ.correctAnswer ? '#4CAF50' : '#f44336';
                percentBar.style.width = '0';
                percentBar.style.transition = 'width 1s';
                percentBar.style.borderRadius = '5px';
                percentBar.style.marginTop = '5px';
                
                const percentText = document.createElement('span');
                percentText.textContent = '0%';
                percentText.style.display = 'block';
                percentText.style.textAlign = 'center';
                percentText.style.color = 'white';
                
                optionDiv.appendChild(optionText);
                optionDiv.appendChild(percentBar);
                optionDiv.appendChild(percentText);
                elements.modalElements.audienceResults.appendChild(optionDiv);
                
                // تأثير تحريك شريط النسبة
                setTimeout(() => {
                    percentBar.style.width = `${percentages[index]}%`;
                    percentText.textContent = `${percentages[index]}%`;
                }, 100);
            });
            
            elements.modals.audience.style.display = 'flex';
            elements.hostMessage.textContent = 'لقد استخدمت مساعدة الجمهور، انظر إلى نتائج التصويت!';
        }

        // إغلاق نافذة مساعدة الجمهور
        function closeAudienceModal() {
            elements.modals.audience.style.display = 'none';
        }

        // إغلاق نافذة استشارة طارق
        function closeLifelineModal() {
            elements.modals.lifeline.style.display = 'none';
        }

        // عرض نهاية اللعبة
        function showGameOver(isWinner) {
            if (isWinner) {
                elements.modalElements.finalPrize.textContent = 'تهانينا! لقد فزت بجائزة المليون يورو! 🎉🏆';
                elements.sounds.applause.play();
            } else {
                // العثور على آخر جائزة مضمونة
                let guaranteedPrize = 0;
                for (let i = 0; i < gameState.guaranteedPrizes.length; i++) {
                    if (gameState.currentQuestion >= gameState.questions.findIndex(q => q.prize === gameState.guaranteedPrizes[i])) {
                        guaranteedPrize = gameState.guaranteedPrizes[i];
                    }
                }
                
                elements.modalElements.finalPrize.textContent = `انتهت اللعبة حظ اوفر وشكرا.`;
            }
            
            elements.modals.gameover.style.display = 'flex';
        }

        // إعادة تعيين اللعبة
        function resetGame() {
            elements.modals.gameover.style.display = 'none';
            initGame();
        }

        // رسائل عشوائية للمضيف
        function getRandomHostMessage() {
            const messages = [
                "هل أنت مستعد للسؤال التالي؟",
                "هذا سؤال شيق، انتبه جيداً!",
                "خذ وقتك في التفكير، لديك كل الوقت الذي تحتاجه",
                "تذكر أن لديك مساعدات يمكنك استخدامها",
                "هل تشعر أنك محظوظ اليوم؟",
                "هذا السؤال قد يغير حياتك!",
                "ركز جيداً، الإجابة قد تكون أمام عينيك",
                "لا تتعجل، فكر بعناية قبل الإجابة"
            ];
            
            return messages[Math.floor(Math.random() * messages.length)];
        }

        // بدء اللعبة عند تحميل الصفحة
        window.onload = initGame;
    </script>
</body>
</html>